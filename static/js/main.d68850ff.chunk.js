(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,a,t){e.exports=t(61)},59:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(15),s=t(64),c=t(66),o=t(65),l=t(4),m=t(5),p=t(7),u=t(6),d=t(8);function h(e){return(e/100).toLocaleString("pl-PL",{style:"currency",currency:"PLN",currencyDisplay:"symbol"})}function y(e){return e[Math.floor(Math.random()*e.length)]}var b=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=Object(p.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(i)))).myInput=r.a.createRef(),t.goToStore=function(e){e.preventDefault(),console.log(t.myInput.current.value);var a=t.myInput.current.value;t.props.history.push("store/".concat(a))},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wellcome"},r.a.createElement("form",{onSubmit:this.goToStore},r.a.createElement("h2",null,"Please enter a store"),r.a.createElement("input",{type:"text",ref:this.myInput,required:!0,placeholder:"zyx",defaultValue:"".concat(y(["Adam","Ada","Barbara","Bogdan","Celina","Daria","Dariusz","El\u017cbieta","Eugeniusz","Felicja","Ferdynand","Gra\u017cyna","Grzegorz","Helena","Iwona","Iwo","Jusyna","Judyta","Jurek","Krzyrztof","Katarzyna","Linda","Monika","Ma\u0142gorzata","Micha\u0142","Ola","Olek","Natalia","Piotr","Patrycja","Patryk","Pawe\u0142","Rafa\u0142","S\u0142awek","Ania","Dorota"])," ").concat(y(["Basiak","Nowak","Antrzejowiec","Jankowiak","Lisiewicz","lipowicz","Kowal","Miodek","Gesel","Hawczyk","Norzyk","Wicel","Linaczyk","Preslej","Mi\u0142osiewicz","Ziemniak","Pomidorowicz","Kaktus","Focha","Fud\u017ci","Nuklei","Sylaba","Analiza","Diagnoza","Chrz\u0105stka","Wynocha","Kryzys","Fenomen","Zegarmistrz","Cz\u0142ekowicz"]))}),r.a.createElement("button",{type:"submit"},"go to store ",r.a.createElement("span",null,"\u27be"))))}}]),a}(r.a.Component),f=t(11),v=t(13),g=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=Object(p.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(i)))).renderOrder=function(e){var a=t.props.dish[e],n=t.props.order[e],i=a&&"available"===a.status;return a?i?r.a.createElement(v.CSSTransition,{classNames:"order",key:e,timeout:{enter:500,exit:500}},r.a.createElement("li",{key:e,index:e},r.a.createElement("span",{className:"count"},r.a.createElement(v.TransitionGroup,{component:"span",className:"counter"},r.a.createElement(v.CSSTransition,{classNames:"counter",key:n,timeout:{enter:300,exit:300}},r.a.createElement("span",null,n))),"x",r.a.createElement("span",{className:"name"},a.name,r.a.createElement("span",{className:"delete",onClick:function(){t.props.removeFromOrder(e)}}," usu\u0144"))),r.a.createElement("span",{className:"price"},h(a.price)))):r.a.createElement(v.CSSTransition,{classNames:"order",key:e,timeout:{enter:500,exit:500}},r.a.createElement("li",{key:e,className:"disable"},r.a.createElement("span",null,a?a.name:"danie"),"nie jest dost\u0119pne")):null},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=Object.keys(this.props.order),t=a.reduce(function(a,t){var n=e.props.dish[t],r=e.props.order[t];return n&&"available"===n.status?a+r*n.price:a},0);return r.a.createElement("div",{className:"order"},r.a.createElement("h2",null,"Zam\xf3wienie"),r.a.createElement(v.TransitionGroup,{component:"ul",className:"orderList"},a.map(this.renderOrder)),r.a.createElement("span",{className:"globalPrice"},h(t)))}}]),a}(r.a.Component),k=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=Object(p.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(i)))).nameRef=r.a.createRef(),t.priceRef=r.a.createRef(),t.statusRef=r.a.createRef(),t.imageRef=r.a.createRef(),t.descRef=r.a.createRef(),t.createDish=function(e){e.preventDefault();var a={name:t.nameRef.current.value,price:parseFloat(t.priceRef.current.value),status:t.statusRef.current.value,image:t.imageRef.current.value,desc:t.descRef.current.value};t.props.addDish(a),e.currentTarget.reset()},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"addForm",onSubmit:this.createDish},r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{ref:this.nameRef,name:"name",type:"text",placeholder:"Nazwa",required:!0}),r.a.createElement("input",{ref:this.priceRef,name:"price",type:"number",min:"0",placeholder:"z\u0142 Cena",required:!0}),r.a.createElement("select",{ref:this.statusRef,name:"status"},r.a.createElement("option",{value:"available"},"dost\u0119pne"),r.a.createElement("option",{value:"unavailable"},"brak"))),r.a.createElement("input",{ref:this.imageRef,name:"image",type:"text",placeholder:"zdj\u0119cie"}),r.a.createElement("textarea",{ref:this.descRef,name:"desc",type:"text",placeholder:"opis"}),r.a.createElement("input",{type:"submit",value:"+ dodaj danie"}),r.a.createElement("button",{onClick:this.props.uploadSamples},"pobierz menu"))}}]),a}(r.a.Component),z=t(16),j=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleChange=function(e){var a=Object(f.a)({},t.props.dish,Object(z.a)({},e.target.name,e.target.value));t.props.updateDish(t.props.index,a)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"editDish"},r.a.createElement("div",{className:"inputs"},r.a.createElement("input",{name:"name",onChange:this.handleChange,value:this.props.dish.name,type:"text"}),r.a.createElement("input",{name:"price",onChange:this.handleChange,value:this.props.dish.price,type:"number",min:"0",placeholder:"cena / groszy"}),r.a.createElement("select",{name:"status",onChange:this.handleChange,value:this.props.dish.status},r.a.createElement("option",{value:"available"},"dost\u0119pne"),r.a.createElement("option",{value:"unavailable"},"brak"))),r.a.createElement("input",{name:"image",onChange:this.handleChange,value:this.props.dish.image,type:"text",placeholder:"zdj\u0119cie"}),r.a.createElement("textarea",{name:"desc",onChange:this.handleChange,value:this.props.dish.desc,type:"text",placeholder:"opis"}),r.a.createElement("button",{onClick:function(){e.props.deleteDish(e.props.index)}},"usu\u0144 danie"))}}]),a}(r.a.Component),E=function(e){function a(){return Object(l.a)(this,a),Object(p.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"inventory"},r.a.createElement("h2",null,"Kreator Da\u0144"),r.a.createElement(k,{addDish:this.props.addDish,uploadSamples:this.props.uploadSamples}),Object.keys(this.props.dish).map(function(a){return r.a.createElement(j,{index:a,key:a,dish:e.props.dish[a],updateDish:e.props.updateDish,deleteDish:e.props.deleteDish})}))}}]),a}(r.a.Component),O=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).handleClick=function(){t.props.addToOrder(t.props.index)},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.details,a=e.name,t=e.image,n=e.desc,i=e.price,s=e.status;return r.a.createElement("li",{className:"dish"},r.a.createElement("img",{src:t,alt:a}),r.a.createElement("div",{className:"info"},r.a.createElement("h4",null,a,r.a.createElement("span",null,h(i))),r.a.createElement("p",null,n),r.a.createElement("button",{className:"unavailable"===s?"unavailable":"",onClick:this.handleClick},"available"===s?"zam\xf3w":"wyprzedano")))}}]),a}(r.a.Component),w=function(e){function a(){return Object(l.a)(this,a),Object(p.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"menu"},r.a.createElement("h2",null,this.props.title),r.a.createElement("ul",null,Object.keys(this.props.state.dishes).map(function(a){return r.a.createElement(O,{key:a,index:a,details:e.props.state.dishes[a],addToOrder:e.props.addToOrder})})))}}]),a}(r.a.Component),D={dish1:{name:"Gulasz Ciel\u0119cy",image:"/images/gulasz.jpg",desc:"\u0141agodny gulasz z ciel\u0119ciny ze \u015bmietan\u0105 i czosnkiem.",price:2800,status:"available"},dish2:{name:"Pierogi z w\u0105tr\xf3bk\u0105",image:"/images/pierogi.jpg",desc:"Domowe pierogi z farszem z kaszy gryczanej i w\u0105tr\xf3bki.",price:2500,status:"available"},dish3:{name:"Kotlet wiede\u0144ski",image:"/images/wiedenski.jpg",desc:"Tradycyjny, panierowany kotlet ciel\u0119cy serwowany z czosnkiem, mas\u0142em szczypiorkowym i cytryn\u0105.",price:3200,status:"unavailable"},dish4:{name:"Pstr\u0105g sma\u017cony",image:"/images/pstrag.jpg",desc:"\u015awie\u017cy pstr\u0105g sma\u017cony w ca\u0142o\u015bci z dodatkiem mas\u0142a czosnkowego i zielonej pietruszki.",price:2300,status:"available"},dish5:{name:"Kaczka",image:"/images/kaczka.jpg",desc:"Wy\u015bmienita kaczka z jab\u0142kami po staropolsku",price:4400,status:"available"},dish6:{name:"Kr\xf3lik w \u015bmietanie",image:"/images/krolik.jpg",desc:"Skok kr\xf3liczy pieczony w aromatycznym sosie \u015bmietanowym.",price:4800,status:"available"},dish7:{name:"Zrazy ciel\u0119ce",image:"/images/zrazy.jpg",desc:"Zrazy zawijane z cebul\u0105, boczkiem, og\xf3rkiem kiszonym i chrzanem w delikatnym sosie w\u0142asnym.",price:3100,status:"available"},dish8:{name:"Tatar",image:"/images/tatar.jpg",desc:"Tradycyjnie przyprawiona, siekana pol\u0119dwica wo\u0142owa w towarzystwie dodatk\xf3w i \u017c\xf3\u0142tka przepi\xf3rczego.",price:2500,status:"available"},dish9:{name:"Ros\xf3\u0142",image:"/images/rosol.jpg",desc:"Tradycyjny polski ros\xf3\u0142 z domowym makaronem i kawa\u0142kami mi\u0119sa.",price:1500,status:"available"}},C=t(26),S=t.n(C),N=t(27),x=t.n(N),R=S.a.initializeApp({apiKey:"AIzaSyC4QDizDtQHLh2UAb5-fW_UiFLCUbkgAj4",authDomain:"food-order-a10fb.firebaseapp.com",databaseURL:"https://food-order-a10fb.firebaseio.com"}),T=x.a.createClass(R.database()),A=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={dishes:{},order:{}},t.addDish=function(e){var a=Object(f.a)({},t.state.dishes);a["dish".concat(Date.now())]=e,t.setState({dishes:a})},t.addToOrder=function(e){var a=Object(f.a)({},t.state.order);a[e]=a[e]+1||1,t.setState({order:a})},t.removeFromOrder=function(e){var a=Object(f.a)({},t.state.order);delete a[e],t.setState({order:a})},t.deleteDish=function(e){var a=Object(f.a)({},t.state.dishes);a[e]=null,t.setState({dishes:a})},t.updateDish=function(e,a){var n=Object(f.a)({},t.state.dishes);n[e]=a,t.setState({dishes:n})},t.uploadSamples=function(){t.setState({dishes:D})},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("".concat(this.props.match.params.storeId));e&&this.setState({order:JSON.parse(e)}),this.ref=T.syncState("".concat(this.props.match.params.storeId,"/dishes"),{context:this,state:"dishes"}),console.log(e)}},{key:"componentWillUnmount",value:function(){T.removeBinding(this.ref)}},{key:"componentDidUpdate",value:function(){localStorage.setItem(this.props.match.params.storeId,JSON.stringify(this.state.order))}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(w,{title:"Dania na dzi\u015b",state:this.state,addToOrder:this.addToOrder}),r.a.createElement(g,{dish:this.state.dishes,order:this.state.order,removeFromOrder:this.removeFromOrder}),r.a.createElement(E,{order:this.state.order,dish:this.state.dishes,addDish:this.addDish,uploadSamples:this.uploadSamples,updateDish:this.updateDish,deleteDish:this.deleteDish}))}}]),a}(r.a.Component),F=function(){return r.a.createElement("div",{className:"notFound"},r.a.createElement("h2",null,"Sorry but this path do not excist"))},I=function(){return r.a.createElement(s.a,{basename:"/foodOrderGhPage"},r.a.createElement(c.a,null,r.a.createElement(o.a,{exact:!0,path:"/",component:b}),r.a.createElement(o.a,{path:"/store/:storeId",component:A}),r.a.createElement(o.a,{component:F})))};t(59);Object(i.render)(r.a.createElement(I,null),document.querySelector("#main"))}},[[29,2,1]]]);
//# sourceMappingURL=main.d68850ff.chunk.js.map